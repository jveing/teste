"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}angular.module("eventsMongoApp",["eventsMongoApp.auth","eventsMongoApp.admin","eventsMongoApp.constants","ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","validation.match","ui.calendar","ui.materialize","perfect_scrollbar"]).config(["$urlRouterProvider","$locationProvider",function(a,b){a.otherwise("/"),b.html5Mode(!0)}]),angular.module("eventsMongoApp.admin",["eventsMongoApp.auth","ui.router"]),angular.module("eventsMongoApp.auth",["eventsMongoApp.constants","eventsMongoApp.util","ngCookies","ui.router"]).config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}]),angular.module("eventsMongoApp.util",[]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b){_classCallCheck(this,a),this.users=b.query()}return a.$inject=["User"],_createClass(a,[{key:"delete",value:function(a){a.$remove(),this.users.splice(this.users.indexOf(a),1)}}]),a}();angular.module("eventsMongoApp.admin").controller("AdminController",a)}(),angular.module("eventsMongoApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("logout",{url:"/logout?referrer",referrer:"main",template:"",controller:["$state","Auth",function(a,b){var c=a.params.referrer||a.current.referrer||"main";b.logout(),a.go(c)}]}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupController",controllerAs:"vm"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsController",controllerAs:"vm",authenticate:!0})}]).run(["$rootScope",function(a){a.$on("$stateChangeStart",function(a,b,c,d){"logout"===b.name&&d&&d.name&&!d.authenticate&&(b.referrer=d.name)})}]),angular.module("eventsMongoApp.admin").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"admin",authenticate:"admin"})}]),function(a,b){a.module("eventsMongoApp.constants",[]).constant("appConfig",{userRoles:["guest","user","admin"]})}(angular),angular.module("eventsMongoApp").controller("DocCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("eventsMongoApp").config(["$stateProvider",function(a){a.state("doc",{url:"/doc",templateUrl:"app/doc/doc.html",controller:"DocCtrl",authenticate:"admin"})}]),angular.module("eventsMongoApp").controller("DragdropCtrl",["$scope","socket","CalendarEvent","Auth",function(a,b,c,d){a.userInfo={},a.getCurrentUser=d.getCurrentUser,a.getCurrentUser(function(b){a.currentUser=b,a.userInfo.user=a.currentUser.name,a.userInfo.createdDate=new Date}),c.query().$promise.then(function(c){a.draggedEvents=c,b.syncUpdates("events",a.draggedEvents)})}]),angular.module("eventsMongoApp").config(["$stateProvider",function(a){a.state("dragdrop",{url:"/dragdrop",templateUrl:"app/dragdrop/dragdrop.html",controller:"DragdropCtrl",authenticate:"admin"})}]),angular.module("eventsMongoApp").controller("EventsCtrl",["$scope","$timeout","socket","CalendarEvent","Auth",function(a,b,c,d,e){var f={title:"Untitled Event",description:"",className:"",icon:"",allDay:!1,User:{}};a.userInfo={},a.newEvent={},a.getCurrentUser=e.getCurrentUser,a.getCurrentUser(function(b){a.currentUser=b,a.userInfo.user=a.currentUser.name,a.userInfo.createdDate=new Date,f.creator=a.currentUser._id}),d.query().$promise.then(function(b){a.events=b,c.syncUpdates("events",a.events)}),$(".new-event-collapse").sideNav({menuWidth:450,edge:"right"}),$(".new-event-close-collapse").click(function(){b(function(){a.newEvent={},$(".new-event-collapse").sideNav("hide")},0,!1)}),a.openForm=function(){console.log("asdfasdf"),b(function(){a.newEvent={},$(".new-event-collapse").sideNav("show")},0,!0)};var g=$("#new-event-out").height();$(".events-side-navigation").height(g).perfectScrollbar({suppressScrollX:!0}),a.newEvent.edate=moment().format("MMM, D dddd"),a.newEvent.today=new Date,a.$watch("newEvent.edate",function(b,c){b||(a.newEvent.edate=moment().format("MMM, D dddd"))}),a.isEdit=!1,a.editEvent=function(c){b(function(){a.isEdit=!0,a.newEvent=angular.copy(c),a.newEvent.starttime=moment.utc(c.start).format("hh:mmA"),a.newEvent.endtime=moment.utc(c.end).format("hh:mmA"),$(".new-event-collapse").sideNav("show")},1,!0)},a.saveEvent=function(){a.newEvent&&!a.newEvent.edate&&(a.newEvent.edate=moment().format()),a.newEvent&&!a.newEvent.starttime&&(a.newEvent.starttime=moment().format("HH:mm")),a.newEvent&&!a.newEvent.endtime&&(a.newEvent.endtime=moment().add(1,"hour").format("HH:mm"));var c=moment(a.newEvent.edate.toString(),"MMM, D dddd").format("YYYY-MM-DD"),e=moment(a.newEvent.starttime.toString(),"h:mm a").format("HH:mm"),g=moment(a.newEvent.endtime.toString(),"h:mm a").format("HH:mm");a.newEvent.start=moment(c.toString()+" "+e.toString()+" +0000","YYYY-MM-DD HH:mm Z"),a.newEvent.end=moment(c.toString()+" "+g.toString()+" +0000","YYYY-MM-DD HH:mm Z");var h=angular.extend(f,a.newEvent);h._id?d.update({id:h._id},h).$promise.then(function(){Materialize.toast("Event updated.",2e3,"",function(){})},function(a){if(a.data.errors){var b=a.data.errors;console.log(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;console.log(c)}}):d.save(h).$promise.then(function(){Materialize.toast("Event added.",2e3,"",function(){})},function(a){if(a.data.errors){var b=a.data.errors;console.log(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;console.log(c)}}),b(function(){a.newEvent={},h={},$(".new-event-collapse").sideNav("hide")})},a.$on("$destroy",function(){c.unsyncUpdates("events")})}]).filter("UTCToNow",function(){return function(a,b){return moment.utc(a).format("dddd, MMMM Do YYYY, h:mmA")}}),angular.module("eventsMongoApp").config(["$stateProvider",function(a){a.state("events",{url:"/events",templateUrl:"app/events/events.html",controller:"EventsCtrl",authenticate:"admin"})}]),function(){var a=function b(a,c,d,e,f,g){var h=this;_classCallCheck(this,b),this.$http=a,this.awesomeThings=[],this.isLoggedIn=f.isLoggedIn,this.isAdmin=f.isAdmin,this.getCurrentUser=f.getCurrentUser,g.query().$promise.then(function(a){h.events=a,e.syncUpdates("events",h.events)})};a.$inject=["$http","$scope","$compile","socket","Auth","CalendarEvent"],angular.module("eventsMongoApp").controller("MainController",a)}(),angular.module("eventsMongoApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main",authenticate:"admin"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),LoginController=function(){function a(b,c,d){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c,this.user.email="admin@example.com",this.user.password="admin",d.$state=c}return a.$inject=["Auth","$state","$rootScope"],_createClass(a,[{key:"login",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.login({email:this.user.email,password:this.user.password}).then(function(){b.$state.go("main")})["catch"](function(a){b.errors.other=a.message})}}]),a}();angular.module("eventsMongoApp").controller("LoginController",LoginController);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SettingsController=function(){function a(b){_classCallCheck(this,a),this.errors={},this.submitted=!1,this.Auth=b}return a.$inject=["Auth"],_createClass(a,[{key:"changePassword",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.changePassword(this.user.oldPassword,this.user.newPassword).then(function(){b.message="Password successfully changed."})["catch"](function(){a.password.$setValidity("mongoose",!1),b.errors.other="Incorrect password",b.message=""})}}]),a}();angular.module("eventsMongoApp").controller("SettingsController",SettingsController),function(){function a(a,b,c,d,e,f,g){var h=f.safeCb,i={},j=e.userRoles||[];c.get("token")&&"/logout"!==a.path()&&(i=g.get());var k={login:function(a,e){var f=a.email,j=a.password;return b.post("/auth/local",{email:f,password:j}).then(function(a){return c.put("token",a.data.token),i=g.get(),i.$promise}).then(function(a){return h(e)(null,a),a})["catch"](function(a){return k.logout(),h(e)(a.data),d.reject(a.data)})},logout:function(){c.remove("token"),i={}},createUser:function(a,b){return g.save(a,function(d){return c.put("token",d.token),i=g.get(),h(b)(null,a)},function(a){return k.logout(),h(b)(a)}).$promise},changePassword:function(a,b,c){return g.changePassword({id:i._id},{oldPassword:a,newPassword:b},function(){return h(c)(null)},function(a){return h(c)(a)}).$promise},getCurrentUser:function(a){if(0===arguments.length)return i;var b=i.hasOwnProperty("$promise")?i.$promise:i;return d.when(b).then(function(b){return h(a)(b),b},function(){return h(a)({}),{}})},isLoggedIn:function(a){return 0===arguments.length?i.hasOwnProperty("role"):k.getCurrentUser(null).then(function(b){var c=b.hasOwnProperty("role");return h(a)(c),c})},hasRole:function l(a,b){var l=function(a,b){return j.indexOf(a)>=j.indexOf(b)};return arguments.length<2?l(i.role,a):k.getCurrentUser(null).then(function(c){var d=c.hasOwnProperty("role")?l(c.role,a):!1;return h(b)(d),d})},isAdmin:function(){return k.hasRole.apply(k,[].concat.apply(["admin"],arguments))},getToken:function(){return c.get("token")}};return k}a.$inject=["$location","$http","$cookies","$q","appConfig","Util","User"],angular.module("eventsMongoApp.auth").factory("Auth",a)}(),function(){function a(a,b,c,d,e){var f,g=document.getElementsByClassName("loader-center");return{request:function(a){return $("body").hasClass("loaded")&&(g[0].style.display="block"),a.headers=a.headers||{},c.get("token")&&e.isSameOrigin(a.url)&&(a.headers.Authorization="Bearer "+c.get("token")),a},response:function(a){return setTimeout(function(){g[0].style.display="none"},500),a},responseError:function(a){return g[0].style.display="none",401===a.status&&((f||(f=d.get("$state"))).go("login"),c.remove("token")),b.reject(a)}}}a.$inject=["$rootScope","$q","$cookies","$injector","Util"],angular.module("eventsMongoApp.auth").factory("authInterceptor",a)}(),function(){angular.module("eventsMongoApp.auth").run(["$rootScope","$state","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){d.authenticate&&("string"==typeof d.authenticate?c.hasRole(d.authenticate,_.noop).then(function(d){return d?void 0:(a.preventDefault(),c.isLoggedIn(_.noop).then(function(a){b.go(a?"main":"login")}))}):c.isLoggedIn(_.noop).then(function(c){c||(a.preventDefault(),b.go("main"))}))})}])}(),function(){function a(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}a.$inject=["$resource"],angular.module("eventsMongoApp.auth").factory("User",a)}(),angular.module("eventsMongoApp").controller("CalendarCtrl",["$scope","$log","$timeout","socket","CalendarEvent","Auth",function(a,b,c,d,e,f){a.userInfo={},a.getCurrentUser=f.getCurrentUser,a.getCurrentUser(function(b){a.currentUser=b,a.userInfo.user=a.currentUser.name,a.userInfo.createdDate=new Date}),a.newEvent={},a.addEvent=function(){var b={title:"Untitled Event",description:"",className:"",icon:"",allDay:!1,creator:a.currentUser._id,User:{}};a.newEvent=angular.extend(b,a.newEvent),a.newEvent._id?e.update({id:a.newEvent._id},a.newEvent).$promise.then(function(){Materialize.toast("Event updated.",2e3,"",function(){})},function(a){if(a.data.errors){var b=a.data.errors;console.log(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;console.log(c)}}):e.save(a.newEvent).$promise.then(function(){Materialize.toast("Event added.",2e3,"",function(){})},function(a){if(a.data.errors){var b=a.data.errors;console.log(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;console.log(c)}}),c(function(){a.newEvent={},$(".event-collapse").sideNav("hide")})},a.deleteEvent=function(){a.newEvent._id&&e["delete"]({id:a.newEvent._id}).$promise.then(function(a){Materialize.toast("Event deleted.",2e3,"",function(){}),$(".event-collapse").sideNav("hide")},function(a){if(a.data.errors){var b=a.data.errors;console.log(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;console.log(c)}})},a.$on("$destroy",function(){d.unsyncUpdates("events")})}]),angular.module("eventsMongoApp").directive("dragableEvent",["$log","$timeout",function(a,b){return{restrict:"A",link:function(a,b){b.data("eventObject",{title:$.trim($(b).text()),className:$.trim($(b).attr("class")),stick:!0}),b.draggable({zIndex:999,revert:!0,revertDuration:0})}}}]),angular.module("eventsMongoApp").directive("fullCalendar",["CalendarEvent","$log","$timeout","$compile",function(a,b,c,d){var e=function(a,b){function d(){f=e.fullCalendar({lang:"en",editable:!0,draggable:!0,selectable:!0,selectHelper:!0,unselectAuto:!1,disableResizing:!1,droppable:!0,eventLimit:!0,header:{left:"title",center:"prev, next, today",right:"month, agendaWeek, agendaDay"},defaultView:"agendaDay",eventClick:g,eventDrop:function(b,c,d,e,f,g){var h=moment.duration($("#calendar").fullCalendar("option","defaultTimedEventDuration")),i=b.end||b.start.clone().add(h);console.log("end is "+i.format()),a.newEvent=angular.copy(b),a.newEvent.className=b.className.join(" "),a.addEvent()},eventResize:function(b,c,d){console.log(b._id),console.log("Start time: "+b.start.format()+"end time: "+b.end.format()),a.newEvent=angular.copy(b),a.newEvent.className=b.className.join(" "),a.addEvent()},timeFormat:"H(:mm)",drop:function(b,c,d,e){var f=$(this).data("eventObject"),g=$.extend({},f),h=moment.duration($("#calendar").fullCalendar("option","defaultTimedEventDuration")),i=b.clone().add(h);if(g.start=b.format(),g.end=i.format(),g.allDay=!1,$("#calendar").fullCalendar("renderEvent",g,!1),$("#drop-remove").is(":checked")){var j=$(this).scope().$index;$("#external-events").scope().eventsExternal.splice(j,1),$(this).remove()}a.newEvent=angular.copy(g),a.addEvent()},select:function(b,d,e){a.newEvent={},c(function(){$(".event-collapse").sideNav("show"),a.focus=!0,a.eve={start:moment(b).format("MMM, D dddd"),from:moment(b).format("h:mm A"),to:moment(d||b).format("h:mm A")},a.newEvent.start=b,a.newEvent.end=d,a.newEvent.allday=e}),f.fullCalendar("unselect")},events:function(b,c,d,e){e(a.events)},eventRender:function(a,b,c){""==!a.icon&&b.find(".fc-title").append("<i class=' fc-icon-top-right "+a.icon+" '></i>")}}),$(".fc-header-right, .fc-header-center",e).hide();var b=$(".fc-scroller").height();$(".fc-scroller").height(b).perfectScrollbar({suppressScrollX:!0});var d=$("#event-out").height();$(".events-side-navigation").height(d).perfectScrollbar({suppressScrollX:!0}),$("#bdate").pickadate({container:"body",onClose:function(){$(document.activeElement).blur()}}),$("#input_starttime").pickatime({twelvehour:!0,container:"body"})}var e=$("#calendar"),f=null;$(".event-collapse").sideNav({menuWidth:450,edge:"right"}),$(".event-close-collapse").click(function(){$(".event-collapse").sideNav("hide")});var g=function(b,d,e){console.log(b),$(".event-collapse").sideNav("show"),a.focus=!0,c(function(){a.newEvent=angular.copy(b),a.newEvent.className=b.className.join(" "),a.eve={name:b.title,start:moment(b.start).format("MMM, D dddd"),from:moment(b.start).format("h:mm A"),to:moment(b.end||b.start).format("h:mm A")}})};d(),a.$watch("events",function(a,b){e.fullCalendar("refetchEvents")},!0)};return{restrict:"E",replace:!0,templateUrl:"components/calendar/views/full-calendar.tpl.html",scope:{events:"=events"},controller:"CalendarCtrl",link:e}}]).directive("focus",["$timeout",function(a){return{scope:{trigger:"@focus"},link:function(b,c){b.$watch("trigger",function(b){"true"===b&&a(function(){c[0].focus()})})}}}]),angular.module("eventsMongoApp").factory("CalendarEvent",["$resource",function(a){return a("/api/events/:id",null,{update:{method:"PUT"}})}]),angular.module("eventsMongoApp").directive("ngColorPicker",function(){var a=["#7bd148","#5484ed","#a4bdfc","#46d6db","#7ae7bf","#51b749","#fbd75b","#ffb878","#ff887c","#dc2127","#dbadff","#e1e1e1"];return{scope:{selected:"=",customizedColors:"=colors"},restrict:"AE",template:'<ul><li ng-repeat="color in colors" ng-class="{selected: (color===selected)}" ng-click="pick(color)" style="background-color:{{color}};"></li></ul>',link:function(b,c,d){b.colors=b.customizedColors||a,b.selected=b.selected||b.colors[0],b.pick=function(a){b.selected=a}}}}).directive("colorPicker",function(){return{restrict:"A",link:function(a,b,c){b.colorpicker({colorSelectors:{red:"#f44336",pink:"#e91e63",indigo:"#3f51b5",cyan:"#00bcd4",green:"#4caf50",yellow:"#ffeb3b",orange:"#ff9800",grey:"#9e9e9e",black:"#000000"},format:"hex",color:"green",align:"left",input:b})}}}),angular.module("eventsMongoApp").directive("footer",function(){return{templateUrl:"components/footer/footer.html",restrict:"E",link:function(a,b){b.addClass("footer")}}}),angular.module("eventsMongoApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}});var NavbarController=function a(b){_classCallCheck(this,a),this.isLoggedIn=b.isLoggedIn,this.isAdmin=b.isAdmin,this.getCurrentUser=b.getCurrentUser};NavbarController.$inject=["Auth"],angular.module("eventsMongoApp").controller("NavbarController",NavbarController),angular.module("eventsMongoApp").directive("navbar",function(){return{templateUrl:"components/navbar/navbar.html",restrict:"E",controller:"NavbarController",controllerAs:"nav"}});var SidebarController=function b(a,c,d,e){_classCallCheck(this,b),this.isLoggedIn=a.isLoggedIn,this.isAdmin=a.isAdmin,this.getCurrentUser=a.getCurrentUser,d.$state=c,e(function(){$(".event-collapse").sideNav("hide")})};SidebarController.$inject=["Auth","$state","$rootScope","$timeout"],angular.module("eventsMongoApp").controller("SidebarController",SidebarController),angular.module("eventsMongoApp").directive("sidebar",function(){return{templateUrl:"components/sidebar/sidebar.html",restrict:"E",controller:"SidebarController",controllerAs:"side"}}),angular.module("eventsMongoApp").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){var c=_.find(b,{_id:a._id}),e=b.indexOf(c),f="created";c?(b.splice(e,1,a),f="updated"):b.push(a),d(f,a,b)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SignupController=function(){function a(b,c){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c}return a.$inject=["Auth","$state"],_createClass(a,[{key:"register",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.createUser({name:this.user.name,email:this.user.email,password:this.user.password}).then(function(){b.$state.go("main")})["catch"](function(c){c=c.data,b.errors={},angular.forEach(c.errors,function(c,d){a[d].$setValidity("mongoose",!1),b.errors[d]=c.message})})}}]),a}();angular.module("eventsMongoApp").controller("SignupController",SignupController),function(){function a(a){var b={safeCb:function(a){return angular.isFunction(a)?a:angular.noop},urlParse:function(a){var b=document.createElement("a");return b.href=a,""===b.host&&(b.href=b.href),b},isSameOrigin:function(c,d){return c=b.urlParse(c),d=d&&[].concat(d)||[],d=d.map(b.urlParse),d.push(a.location),d=d.filter(function(a){return c.hostname===a.hostname&&c.port===a.port&&c.protocol===a.protocol}),d.length>=1}};return b}a.$inject=["$window"],angular.module("eventsMongoApp.util").factory("Util",a)}(),angular.module("eventsMongoApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<link rel=stylesheet href=assets/css/page-center/page-center.css><div class="card-panel login-card"><div class=row><div class=row><div class="col s12"><form class=login-form name=form ng-submit=vm.login(form) novalidate><div class=row><div class="input-field col s12 center"><img src=assets/images/profile.6b1e144f.png alt="" class="circle responsive-img valign profile-image-login"><p class="center login-form-text">EventsX-Materialized Events</p></div></div><div class="row margin"><div class="input-field col s12"><i class="mdi-social-person-outline prefix"></i> <input type=email id=email name=email class=form-control ng-model=vm.user.email required><label for=email class=center-align>Email</label></div></div><div class="row margin"><div class="input-field col s12"><i class="mdi-action-lock-outline prefix"></i> <input type=password id=password name=password class=form-control ng-model=vm.user.password required><label for=password>Password</label></div></div><div class=row><div class="input-field col s12 m12 l12 login-text"><input type=checkbox id="remember-me"><label for=remember-me>Remember me</label></div></div><div class=row><div class="input-field col s12"><button class="btn waves-effect waves-light" type=submit>Login</button><p>Admin account is <code>admin@example.com</code> / <code>admin</code></p></div></div><!--<div class="row">\r\n          <div class="input-field col s6 m6 l6">\r\n            <p class="margin medium-small"><a href="page-register.html">Register Now!</a></p>\r\n          </div>\r\n          <div class="input-field col s6 m6 l6">\r\n              <p class="margin right-align medium-small"><a href="page-forgot-password.html">Forgot password ?</a></p>\r\n          </div>          \r\n        </div>--><!--<div class="row">\r\n          <div class="col-sm-4 col-md-3">\r\n            <oauth-buttons classes="btn-block"></oauth-buttons>\r\n          </div>\r\n        </div>--></form></div></div><!--<div class="col-sm-12">\r\n      <form class="form" name="form" ng-submit="vm.login(form)" novalidate>\r\n\r\n        <div class="form-group">\r\n          <label>Email</label>\r\n\r\n          <input type="email" name="email" class="form-control" ng-model="vm.user.email" required>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n          <label>Password</label>\r\n\r\n          <input type="password" name="password" class="form-control" ng-model="vm.user.password" required>\r\n        </div>\r\n\r\n        <div class="form-group has-error">\r\n          <p class="help-block" ng-show="form.email.$error.required && form.password.$error.required && vm.submitted">\r\n             Please enter your email and password.\r\n          </p>\r\n          <p class="help-block" ng-show="form.email.$error.email && vm.submitted">\r\n             Please enter a valid email.\r\n          </p>\r\n\r\n          <p class="help-block">{{ vm.errors.other }}</p>\r\n        </div>\r\n\r\n        <div>\r\n          <button class="btn waves-effect waves-light" type="submit">\r\n            Login\r\n          </button>\r\n          <a class="margin medium-small" ui-sref="signup">\r\n            Register\r\n          </a>\r\n        </div>\r\n\r\n        <hr/>\r\n        <div class="row">\r\n          <div class="col-sm-4 col-md-3">\r\n            <oauth-buttons classes="btn-block"></oauth-buttons>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>--></div></div>'),a.put("app/account/settings/settings.html",'<div class=container><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=vm.changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=vm.user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ vm.errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || vm.submitted)">Password must be at least 3 characters.</p></div><div class=form-group><label>Confirm New Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="form.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><p class=help-block>{{ vm.message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<div class=container><div class=row><div class=col-sm-12><h1>Sign up</h1></div><div class=col-sm-12><form class=form name=form ng-submit=vm.register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && vm.submitted,\r\n                                            \'has-error\': form.name.$invalid && vm.submitted }"><label>Name</label><input type=text name=name class=form-control ng-model=vm.user.name required><p class=help-block ng-show="form.name.$error.required && vm.submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && vm.submitted,\r\n                                            \'has-error\': form.email.$invalid && vm.submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=vm.user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && vm.submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && vm.submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ vm.errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && vm.submitted,\r\n                                            \'has-error\': form.password.$invalid && vm.submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=vm.user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && vm.submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ vm.errors.password }}</p></div><div class=form-group ng-class="{ \'has-success\': form.confirmPassword.$valid && vm.submitted,\r\n                                            \'has-error\': form.confirmPassword.$invalid && vm.submitted }"><label>Confirm Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=vm.user.password ng-minlength=3 required><p class=help-block ng-show="form.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><div><button class="btn btn-inverse btn-lg btn-register" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-login" ui-sref=login>Login</a></div></form></div></div><hr></div>'),a.put("app/admin/admin.html",'<div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class="list-group user-list"><li class=list-group-item ng-repeat="user in admin.users"><div class=user-info><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span></div><a ng-click=admin.delete(user) class=trash><span class="fa fa-trash fa-2x"></span></a></li></ul></div>'),a.put("app/doc/doc.html",'<sidebar></sidebar><!-- START CONTENT --><section id=content><div class=container><div class=section><h3>EventsX- Materialized Calender</h3><div class=divider></div><ul class="collection with-header"><li class=collection-header><h4>v 0.1</h4><span class=ultra-small>Initial Version</span></li><li class=collection-item><strong>Pre-requisites</strong><ul class=collection><li class=collection-item>1.Node http://nodejs.org/ (Server)</li><li class=collection-item>2.MongoDB https://www.mongodb.org/ (Database)</li></ul></li></ul><ul class="collection with-header"><li class=collection-header><h4>Technology Stack Used</h4></li><li class=collection-item>MongoDB</li><li class=collection-item>Express 4.9</li><li class=collection-item>AngularJS 1.4.9</li><li class=collection-item>Node.JS 4.2.3</li></ul><ul class="collection with-header"><li class=collection-header><h4>Install</h4></li><li class=collection-item>Run the following commands and the application will start automatically<pre>npm install yo -g (Install yeoman for scaffolding web application)</pre><pre>npm install grunt-cli -g (This creates and runs javascript repetative tasks) </pre><pre>npm install bower -g ( A frontend package manager for web applications) </pre><pre>npm install (Install all nodejs dependencies, also automatically installs bower components)</pre></li><li class=collection-item><h4>Usage</h4><p>Open command prompt or git bash in Administrator mode</p>Run command<pre>npm install</pre>&&<pre>bower install</pre><p>for further development in this project to add more modules install generator as below.</p><pre> npm install -g generator-angular-fullstack </pre>User angular fullstack guidence for further developement in this Admin panel <a href=https://github.com/angular-fullstack/generator-angular-fullstack#route target=_blank>angular-fullstack</a><p>check the mongodb url in server/config/environment/developement file and production file</p></li><li class=collection-item><h4>Buid and Run</h4><pre>grunt serve  [for running in dev environment with livereload]  </pre><pre>grunt serve:dist  [Buid and run in production mode]  </pre><pre>grunt build--force  [buid with Administrator rights]</pre><blockquote>Note : If any of the test failed or any error in running application, please install npm and bower with latest verion and in Administrator mode in command prompt</blockquote></li></ul><ul class="collection with-header"><li class=collection-item><strong>HighLights</strong><ul class=collection><li class=collection-item>Materialize CSS framework</li><li class=collection-item>Angularjs calender directive</li><li class=collection-item>Materialize clock-picker</li><li class=collection-item>Materialize color-picker</li><li class=collection-item>Drag and Drop events and then edit</li><li class=collection-item>Materialize datepicker with month and year selectable</li><li class=collection-item>Babel javascript</li><li class=collection-item>Can be extended to full Admin panel</li><li class=collection-item>Socket.IO with live data broadcasting</li></ul></li><li class=collection-item><strong>All Features</strong><ul class=collection><ul><li class=collection-item>Real time sync data from any client</li><li class=collection-item>Authentication with role</li><li class=collection-item>Realtime updates – Any changes to database is updated in Realtime</li><li class=collection-item>Token expire time</li><li class=collection-item>Session management</li><li class=collection-item>Login</li><li class=collection-item>Change Password</li><li class=collection-item>Password encryption with SHA1</li><li class=collection-item>Automatic minification, compression, CDNify during deployment</li><li class=collection-item>Live reaload while development</li><li class=collection-item>User roles</li><li class=collection-item>Auto selection of resources for development and production</li><li class=collection-item>API with role based authentication</li><li class=collection-item>SEO optimized title for each page using keystone.utils for slugify</li><li class=collection-item>Responsive front end to fit any screen</li><li class=collection-item>Modular code structure for faster development</li><li class=collection-item>Each module is placed inside its own directory for easy management</li><li class=collection-item>Separate configuration envirnoment for development and production</li><li class=collection-item>Message for post confirmation/error</li><li class=collection-item>Sliding system – so that user won’t have to leave the page for updation</li></ul></ul></li></ul></div></div></section>'),
a.put("app/dragdrop/dragdrop.html",'<sidebar></sidebar><!-- START CONTENT --><section id=content><!--breadcrumbs start--><div id=breadcrumbs-wrapper><!-- Search for small screen --><div class="header-search-wrapper grey hide-on-large-only"><i class="mdi-action-search active"></i> <input type=text name=Search class="header-search-input z-depth-2" placeholder="Explore Materialize"></div><div class=container><div class=row><div class="col s12 m12 l12"><h5 class=breadcrumbs-title>Drag and Drop on Calendar</h5><ol class=breadcrumbs><li><a href="/">Home</a></li><li class=active>Drag&Drop</li></ol></div></div></div></div><!--breadcrumbs end--><!--start container--><div class=container><div class=section><p class=caption>Drag & drop pre-defined events on calendar. NodeJS API used to save events on drop.</p><div class=divider></div><div id=full-calendar><div class=row><div class="col s12 m4 l3"><div id=draggeble-events><h4 class=header>Drage Events</h4><div class=red dragable-event>Sam\'s Birthday</div><div class=pink dragable-event>Doctor\'s Appointment</div><div class=indigo dragable-event>Call to Boss</div><div class=cyan dragable-event>Meeting with Lisa</div><div class=green dragable-event>Call to patient</div><div class=yellow dragable-event>Meeting with staff</div><div class=orange dragable-event>Let\'s Party</div><div class=orange dragable-event>Rock Night</div><div class=cyan dragable-event>Singing Show</div></div></div><div class="col s12 m8 l9"><full-calendar id=main-calendar-widget data-events=draggedEvents></full-calendar></div></div></div></div></div><!--end container--></section><!-- END CONTENT -->'),a.put("app/events/events.html",'<sidebar></sidebar><!-- START CONTENT --><section id=content><!--breadcrumbs start--><div id=breadcrumbs-wrapper><!-- Search for small screen --><div class="header-search-wrapper grey hide-on-large-only"><i class="mdi-action-search active"></i> <input type=text name=Search class="header-search-input z-depth-2" placeholder="Explore Materialize"></div><div class=container><div class=row><div class="col s12 m12 l12"><h5 class=breadcrumbs-title>Events Listing</h5><ol class=breadcrumbs><li><a href="/">Home</a></li><li class=active>Events</li></ol></div></div></div></div><!--breadcrumbs end--><!-- Modal Trigger --><!--start container--><div class=container><div class=section><div class=row><div class="col s6"><p class=caption>Create/Edit all events and view on calender</p></div><div class="input-field col s5"><i ng-class="{\'active\':focus}" class="mdi-action-search prefix"></i> <input id=search type=text ng-model=search_events><label for=search ng-class="{\'active\':focus}">Search an event by title</label></div><div class="col s1"><a href=# data-activates=new-event-out class=new-event-collapse></a> <a href=# ng-click=openForm() data-position=bottom data-delay=5 data-tooltip="Add new" class="tooltipped task-add btn-floating btn-large waves-effect waves-light"><i class=mdi-content-add></i></a></div></div><div class=divider></div><div class="col s12"><div class=row><section class=plans-container id=plans><article class="col s12 m6 l4" ng-repeat="event in events | orderBy: \'-start\' | filter:search_events"><div class="card hoverable"><div class="card-image light-blue waves-effect"><div class=card-title>{{event.title}}</div><div class=price><i ng-if=event.icon class="{{event.icon}} icon white-text small"></i> <i ng-if=!event.icon class="mdi-notification-event-note icon white-text small"></i></div><div class=price-desc>{{event.start | UTCToNow}}</div></div><div class=card-content><ul class=collection ng-if=event.description><li class=collection-item><p class="truncate grey-text ultra-small">{{event.description}}</p></li></ul><ul class=collection ng-if=!event.description><li class=collection-item><p class="truncate grey-text ultra-small">Here wil come the events description or notes.</p></li></ul></div><div class="card-action center-align"><button class="waves-effect waves-light btn" ng-click=editEvent(event)>Edit</button></div></div></article></section></div><!--<ul id="task-card" class="collection with-header">\r\n                  <li class="collection-header indigo">\r\n                      <h4 class="task-card-title">Calender Events</h4>\r\n                  </li>\r\n                  <a href="#" data-activates="new-event-out" ng-click="openForm()" class="task-add new-event-collapse btn-floating btn-large waves-effect waves-light "><i class="mdi-content-add"></i></a>\r\n                  <div id="email-list" class="col s10 m4 l4 card-panel z-depth-1">\r\n                    <ul class="collection">\r\n                        <li class="collection-item avatar email-unread" ng-repeat="event in events | orderBy: \'-start\' | filter:search_events" ng-click="editEvent(event)">\r\n                            <div class="row">\r\n                                <div class="col s3"><i class="{{event.icon}} icon blue-text small"></i></div>\r\n                                <div class="col s9"><a href="#" data-activates="new-event-out" ng-click="editEvent(event)" class="edit-event-collapse waves-effect waves-light ">{{event.title}}</a>\r\n                            <p class="truncate grey-text ultra-small">{{event.description}}</p>\r\n                            <a href="#!" class="secondary-content1"><span class="">{{event.start | UTCToNow}}</span></a></div>\r\n                            </div>\r\n                            \r\n                            \r\n                            \r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                  \r\n              </ul>--><!-- START RIGHT SIDEBAR NAV--><aside id=right-sidebar-nav><ul id=new-event-out class="side-nav events-side-navigation"><li class=li-hover><a href=# data-activates=new-event-out class="new-event-close-collapse right"><i class=mdi-navigation-close></i></a><div id=right-search class=row><div class="col s12 m12 l12"><div><h4 class="header2 center" ng-bind="newEvent.edate | date:\'MMM, D dddd\'"></h4><div class="m-b-20 center"><i class=mdi-image-timer></i><label for=edate style=cursor:pointer>Change Date</label><input style=display:none type=date id=edate class=datepicker ng-model="newEvent.today"></div><div class=row><form class="col s12" name=event ng-submit=saveEvent()><div class=row><div class="input-field col s12"><i ng-class="{\'active\':focus}" class="mdi-editor-mode-edit prefix"></i> <input id=title type=text focus={{focus}} class=validate name=title ng-model=newEvent.title><label for=title ng-class="{\'active\':focus}">Title</label></div></div><div class=row><div class="input-field col s6"><i class="mdi-image-timer prefix"></i><label for=input_starttime>Start Time</label><input id=input_starttime class=timepicker type=text ng-model=newEvent.starttime></div><div class="input-field col s6"><i class="mdi-image-timer prefix"></i><label for=input_endtime>End Time</label><input id=input_endtime class=timepicker type=text ng-model=newEvent.endtime></div></div><div class=row><div class="input-field col s12"><i class="mdi-editor-mode-edit prefix"></i><textarea id=description name=description ng-model=newEvent.description class="materialize-textarea validate" length=120></textarea><label for=description>Description</label></div></div><div class=row><div class="input-field col s10"><i class="mdi-editor-format-color-fill prefix"></i> <input color-picker type=text id=input_color ng-model=newEvent.className readonly><label for=input_color>Color</label></div><div class="input-field col s1"><label class=btn-floating ng-class=newEvent.className></label></div></div><div class=row><div class="input-field col s10"><i class="mdi-image-photo prefix"></i><select ng-model=newEvent.icon material-select watch ng-change=changeIcon()><option value="" disabled selected>Select Event Icon</option><option value=mdi-action-redeem class=circle>BirthDay</option><option value=mdi-action-settings-phone class=circle>Do call</option><option value=mdi-action-shopping-basket class=circle>Go Market</option><option value=mdi-action-theaters class=circle>Movie</option><option value=mdi-action-info class=circle>Info</option><option value=mdi-alert-warning class=circle>Warning</option><option value=mdi-action-event class=circle>Event</option></select></div><div class="input-field col s1"><label class=btn-floating ng-class=newEvent.className><i class=mdi-action-theaters ng-if="newEvent.icon ===\'mdi-action-theaters\'"></i> <i class=mdi-action-shopping-basket ng-if="newEvent.icon ===\'mdi-action-shopping-basket\'"></i> <i class=mdi-action-settings-phone ng-if="newEvent.icon ===\'mdi-action-settings-phone\'"></i> <i class=mdi-action-redeem ng-if="newEvent.icon ===\'mdi-action-redeem\'"></i> <i class=mdi-action-info ng-if="newEvent.icon ===\'mdi-action-info\'"></i> <i class=mdi-alert-warning ng-if="newEvent.icon ===\'mdi-alert-warning\'"></i> <i class=mdi-action-event ng-if="newEvent.icon ===\'mdi-action-event\'"></i></label></div></div><!--<div class="row">\r\n                                        <div class="input-field col s10">\r\n                                          <i class="mdi-image-colorize prefix"></i>\r\n                                            <select ng-model="newEvent.className" material-select watch>\r\n                                                <option value="" disabled selected>Select Event Color</option>\r\n                                                <option value="yellow"  class="light-green">Yellow</option>\r\n                                                <option value="green" class="circle">Green</option>\r\n                                                <option value="red" class="circle">Red</option>\r\n                                            </select>\r\n                                            \r\n                                        </div>\r\n                                        <div class="input-field col s1">\r\n                                          <label style="background-color: #676A6B;" class="btn-floating" ng-if="!newEvent.className"></label>\r\n                                          <label class="btn-floating red darken-4" ng-if="newEvent.className ===\'red\'"></label>\r\n                                          <label class="btn-floating yellow darken-4" ng-if="newEvent.className ===\'yellow\'"></label>\r\n                                           <label class="btn-floating green darken-4" ng-if="newEvent.className ===\'green\'"></label>\r\n                                        </div>\r\n                                    </div>--><div class=row><div class="input-field col s4"><input type=checkbox id=event-allday ng-model="newEvent.allDay"><label for=event-allday>allDay?</label></div><div class="col s8"><button class="btn indigo waves-effect waves-light" type=submit name=action>Save <i class="mdi-content-send right"></i></button> <button class="btn waves-effect waves-light" type=button ng-click=deleteEvent()><i class=mdi-action-delete></i></button></div></div><div class="row small-group" ng-if=newEvent.createdAt><div class="col s8 offset-s1"><span>{{newEvent.User.name}} created @{{newEvent.createdAt | date : \'dd/MM/yyyy hh:mm a\'}}</span></div><div class="col s8 offset-s1"><span>{{newEvent.User.name}} updated @{{newEvent.updatedAt | date : \'dd/MM/yyyy hh:mm a\'}}</span></div></div><div class="row small-group" ng-if=!newEvent.createdAt><div class="col s8 offset-s1"><span>{{userInfo.user}} createdAt @{{userInfo.createdDate | date : \'dd/MM/yyyy hh:mm a\'}}</span></div></div></form></div></div></div></div></li></ul></aside><!-- LEFT RIGHT SIDEBAR NAV--></div></div></div><!--end container--></section><!-- END CONTENT --><script src=https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.4.0/pikaday.min.js></script><!--<script type="text/javascript" src="assets/js/perfect-scrollbar/perfect-scrollbar.min.js"></script>--><script>$(document).ready(function(){\r\n          $(\'#edate\').pickadate({\r\n            container: \'body\',\r\n            selectMonths: true, // Creates a dropdown to control month\r\n            selectYears: 15, // Creates a dropdown of 15 years to control year\r\n            onClose: function(){\r\n              $(document.activeElement).blur()\r\n            }\r\n          });\r\n          \r\n         $(\'#input_starttime\').pickatime({\r\n              twelvehour: true,\r\n              container: \'body\'\r\n          });\r\n          $(\'#input_endtime\').pickatime({\r\n              twelvehour: true,\r\n              container: \'body\'\r\n          });\r\n        });</script>'),a.put("app/main/main.html",'<sidebar></sidebar><!-- START CONTENT --><section id=content><!--breadcrumbs start--><div id=breadcrumbs-wrapper><!-- Search for small screen --><div class="header-search-wrapper grey hide-on-large-only"><i class="mdi-action-search active"></i> <input type=text name=Search class="header-search-input z-depth-2" placeholder="Explore Materialize"></div><div class=container><div class=row><div class="col s12 m12 l12"><h5 class=breadcrumbs-title>Events - Agenda view</h5><ol class=breadcrumbs><li><a href=index.html>Calender</a></li><li class=active>Agenda</li></ol></div></div></div></div><!--breadcrumbs end--><!--start container--><div class=container><full-calendar id=dashboard-calendar-widget data-events=main.events></full-calendar></div><!--end container--></section><!-- END CONTENT --><!--<script type="text/javascript" src="assets/js/perfect-scrollbar/perfect-scrollbar.min.js"></script>\r\n<script type="text/javascript" src="assets/js/plugins.js"></script>-->'),a.put("components/calendar/views/calendar.tpl.html",'<!-- MAIN CONTENT --><div id=content><div class=row><big-breadcrumbs items="[\'Home\', \'Calendar\']" class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></big-breadcrumbs></div><!-- widget grid --><section id=widget-grid widget-grid><!-- row --><div class=row ng-controller=CalendarCtrl><div class="col-sm-12 col-md-12 col-lg-3"><!-- new widget --><div class="jarviswidget jarviswidget-color-blueDark"><header><h2>Add Events</h2></header><!-- widget div--><div><div class=widget-body><!-- content goes here --><form id=add-event-form><fieldset><div class=form-group><label>Select Event Icon</label><div class="btn-group btn-group-sm btn-group-justified" data-toggle=buttons><!--  --><label class="btn btn-default active"><input type=radio name=iconselect id=icon-1 value=fa-info radio-toggle ng-model=newEvent.icon> <i class="fa fa-info text-muted"></i></label><label class="btn btn-default"><input type=radio name=iconselect id=icon-2 value=fa-warning radio-toggle ng-model=newEvent.icon> <i class="fa fa-warning text-muted"></i></label><label class="btn btn-default"><input type=radio name=iconselect id=icon-3 value=fa-check radio-toggle ng-model=newEvent.icon> <i class="fa fa-check text-muted"></i></label><label class="btn btn-default"><input type=radio name=iconselect id=icon-4 value=fa-user radio-toggle ng-model=newEvent.icon> <i class="fa fa-user text-muted"></i></label><label class="btn btn-default"><input type=radio name=iconselect id=icon-5 value=fa-lock radio-toggle ng-model=newEvent.icon> <i class="fa fa-lock text-muted"></i></label><label class="btn btn-default"><input type=radio name=iconselect id=icon-6 value=fa-clock-o radio-toggle ng-model=newEvent.icon> <i class="fa fa-clock-o text-muted"></i></label></div></div><div class=form-group><label>Event Title</label><input ng-model=newEvent.title class=form-control id=title name=title maxlength=40 type=text placeholder="Event Title"></div><div class=form-group><label>Event Description</label><textarea ng-model=newEvent.description class=form-control placeholder="Please be brief" rows=3 maxlength=40 id=description></textarea><p class=note>Maxlength is set to 40 characters</p></div><div class=form-group><label>Select Event Color</label><div class="btn-group btn-group-justified btn-select-tick" data-toggle=buttons><label class="btn bg-color-darken active"><input ng-model=newEvent.className radio-toggle type=radio name=priority id=option1 value="bg-color-darken txt-color-white"> <i class="fa fa-check txt-color-white"></i></label><label class="btn bg-color-blue"><input ng-model=newEvent.className radio-toggle type=radio name=priority id=option2 value="bg-color-blue txt-color-white"> <i class="fa fa-check txt-color-white"></i></label><label class="btn bg-color-orange"><input ng-model=newEvent.className radio-toggle type=radio name=priority id=option3 value="bg-color-orange txt-color-white"> <i class="fa fa-check txt-color-white"></i></label><label class="btn bg-color-greenLight"><input ng-model=newEvent.className radio-toggle type=radio name=priority id=option4 value="bg-color-greenLight txt-color-white"> <i class="fa fa-check txt-color-white"></i></label><label class="btn bg-color-blueLight"><input ng-model=newEvent.className radio-toggle type=radio name=priority id=option5 value="bg-color-blueLight txt-color-white"> <i class="fa fa-check txt-color-white"></i></label><label class="btn bg-color-red"><input ng-model=newEvent.className radio-toggle type=radio name=priority id=option6 value="bg-color-red txt-color-white"> <i class="fa fa-check txt-color-white"></i></label></div></div></fieldset><div class=form-actions><div class=row><div class=col-md-12><button class="btn btn-default" type=button id=add-event ng-click=addEvent()>Add Event</button></div></div></div></form><!-- end content --></div></div><!-- end widget div --></div><!-- end widget --><div class="well well-sm" id=event-container><form><legend>Draggable Events</legend><ul id=external-events class=list-unstyled><li ng-repeat="event in eventsExternal" dragable-event><span class={{event.className}} data-description={{event.description}} data-icon={{event.icon}}>{{event.title}}</span></li></ul><!-- <ul id=\'external-events\' class="list-unstyled">\r\n                            <li>\r\n                                <span class="bg-color-darken txt-color-white" data-description="Currently busy" data-icon="fa-time">Office Meeting</span>\r\n                            </li>\r\n                            <li>\r\n                                <span class="bg-color-blue txt-color-white" data-description="No Description" data-icon="fa-pie">Lunch Break</span>\r\n                            </li>\r\n                            <li>\r\n                                <span class="bg-color-red txt-color-white" data-description="Urgent Tasks" data-icon="fa-alert">URGENT</span>\r\n                            </li>\r\n                        </ul> --><div class=checkbox><label><input type=checkbox id=drop-remove class="checkbox style-0" checked> <span>remove after drop</span></label></div></form></div></div><article class="col-sm-12 col-md-12 col-lg-9"><full-calendar id=main-calendar-widget data-events=events></full-calendar></article></div></section></div>'),a.put("components/calendar/views/full-calendar.tpl.html",'<div><section id=widget-grid><!-- row --><div class=row><article class="col-sm-12 col-md-12 col-lg-9"><div id=calendar></div></article></div></section><a href=# data-activates=event-out class="event-collapse right"></a><!-- START RIGHT SIDEBAR NAV--><aside id=right-sidebar-nav><ul id=event-out class="side-nav events-side-navigation"><li class=li-hover><a href=# data-activates=event-out class="event-close-collapse right"><i class=mdi-navigation-close></i></a><div id=right-search class=row><div class="col s12 m12 l12"><div><h4 class="header2 center">{{eve.start}}</h4><div class="m-b-20 center"><i class="fa fa-clock-o"></i> <span ng-bind=eve.from></span> to <span ng-bind=eve.to></span></div><div class=row><form class="col s12" name=event ng-submit=addEvent()><div class=row><div class="input-field col s12"><i ng-class="{\'active\':focus}" class="mdi-editor-mode-edit prefix"></i> <input id=title contenteditable=true type=text focus={{focus}} class=validate name=title ng-model=newEvent.title><label for=title ng-class="{\'active\':focus}">Title</label></div></div><div class=row><div class="input-field col s12"><i class="mdi-editor-mode-edit prefix"></i><textarea id=description name=description ng-model=newEvent.description class="materialize-textarea validate" length=120></textarea><label for=description>Description</label></div></div><div class=row><div class="input-field col s10"><i class="mdi-image-photo prefix"></i><select ng-model=newEvent.icon material-select watch ng-change=changeIcon()><option value="" disabled selected>Select Event Icon</option><option value=mdi-action-redeem class=circle>BirthDay</option><option value=mdi-action-settings-phone class=circle>Do call</option><option value=mdi-action-shopping-basket class=circle>Go Market</option><option value=mdi-action-theaters class=circle>Movie</option><option value=mdi-action-info class=circle>Info</option><option value=mdi-alert-warning class=circle>Warning</option><option value=mdi-action-event class=circle>Event</option></select></div><div class="input-field col s1"><label class=btn-floating ng-class=newEvent.className><i class=mdi-action-theaters ng-if="newEvent.icon ===\'mdi-action-theaters\'"></i> <i class=mdi-action-shopping-basket ng-if="newEvent.icon ===\'mdi-action-shopping-basket\'"></i> <i class=mdi-action-settings-phone ng-if="newEvent.icon ===\'mdi-action-settings-phone\'"></i> <i class=mdi-action-redeem ng-if="newEvent.icon ===\'mdi-action-redeem\'"></i> <i class=mdi-action-info ng-if="newEvent.icon ===\'mdi-action-info\'"></i> <i class=mdi-alert-warning ng-if="newEvent.icon ===\'mdi-alert-warning\'"></i> <i class=mdi-action-event ng-if="newEvent.icon ===\'mdi-action-event\'"></i></label></div></div><!--<div class="row">\r\n                                        <div class="input-field col s10">\r\n                                          <i class="mdi-image-colorize prefix"></i>\r\n                                            <select ng-model="newEvent.className" material-select watch>\r\n                                                <option value="" disabled selected>Select Event Color</option>\r\n                                                <option value="yellow"  class="light-green">Yellow</option>\r\n                                                <option value="green" class="circle">Green</option>\r\n                                                <option value="red" class="circle">Red</option>\r\n                                            </select>\r\n                                        </div>\r\n                                        <div class="input-field col s1">\r\n                                          <label style="background-color: #676A6B;" class="btn-floating" ng-if="!newEvent.className"></label>\r\n                                          <label class="btn-floating red darken-4" ng-if="newEvent.className ===\'red\'"></label>\r\n                                          <label class="btn-floating yellow darken-4" ng-if="newEvent.className ===\'yellow\'"></label>\r\n                                           <label class="btn-floating green darken-4" ng-if="newEvent.className ===\'green\'"></label>\r\n                                        </div>\r\n                                    </div>--><div class=row><div class="input-field col s10"><i class="mdi-editor-format-color-fill prefix"></i> <input color-picker type=text id=input_color ng-model=newEvent.className readonly><label for=input_color>Color</label></div><div class="input-field col s1"><label class=btn-floating ng-class=newEvent.className></label></div></div><div class=row><div class="input-field col s4"><input type=checkbox id=event-allday ng-model="newEvent.allDay"><label for=event-allday>allDay?</label></div><div class="col s8"><button class="btn indigo waves-effect waves-light" type=submit name=action>Save <i class="mdi-content-send right"></i></button> <button class="btn waves-effect waves-light" type=button ng-click=deleteEvent()><i class=mdi-action-delete></i></button></div></div><div class="row small-group" ng-if=newEvent.createdAt><div class="col s8 offset-s1"><span>{{newEvent.User.name}} created @{{newEvent.createdAt | date : \'dd/MM/yyyy hh:mm a\'}}</span></div><div class="col s8 offset-s1"><span>{{newEvent.User.name}} updated @{{newEvent.updatedAt | date : \'dd/MM/yyyy hh:mm a\'}}</span></div></div><div class="row small-group" ng-if=!newEvent.createdAt><div class="col s8 offset-s1"><span>{{userInfo.user}} createdAt @{{userInfo.createdDate | date : \'dd/MM/yyyy hh:mm a\'}}</span></div></div></form></div></div></div></div></li></ul></aside><!-- LEFT RIGHT SIDEBAR NAV--></div>'),a.put("components/footer/footer.html","<div class=page-footer><div class=footer-copyright><div class=container><a href=http://codecanyon.net/user/dcoderx/portfolio class=indigo-text>@dcoderx</a></div></div></div>"),a.put("components/navbar/navbar.html",'<!-- START HEADER --><header id=header class=page-topbar ng-show=nav.isLoggedIn()><!-- start header nav--><div class=navbar-fixed><nav class="navbar-color light-blue darken-1"><div class=nav-wrapper><ul class=left><li><h1 class=logo-wrapper><a href="/" style=height:50px;width:50px><i class=mdi-notification-event-note></i></a></h1></li><li><a href="/">EventX - Materialized Event Manager</a></li></ul></div></nav></div><!-- end header nav--></header><!-- END HEADER -->'),a.put("components/sidebar/sidebar.html",'<!-- START LEFT SIDEBAR NAV--><aside id=left-sidebar-nav ng-show=side.isLoggedIn()><ul id=slide-out class="side-nav fixed leftside-navigation"><li class="user-details cyan darken-2"><div class=row><div class="col col s4 m4 l4"><img src=assets/images/profile.6b1e144f.png alt="" class="circle responsive-img valign profile-image"></div><div class="col col s8 m8 l8"><!-- Dropdown Trigger --><!-- Dropdown Structure --><ul id=profile-dropdown class=dropdown-content><li ng-show=side.isAdmin()><a ui-sref=admin><i class=mdi-action-face-unlock></i> Profile</a></li><li ng-hide=side.isLoggedIn() ui-sref-active=active><a ui-sref=login><i class="mdi-social-person-outline prefix"></i> Login</a></li><li ng-show=side.isLoggedIn()><a ui-sref=settings><i class=mdi-action-settings></i> Settings</a></li><li class=divider></li><li ng-show=side.isLoggedIn()><a ui-sref=logout><i class=mdi-hardware-keyboard-tab></i> Logout</a></li></ul><a class="btn-flat dropdown-button waves-effect waves-light white-text profile-btn" href=# dropdown data-hover=false data-activates=profile-dropdown>John Doe<i class="mdi-navigation-arrow-drop-down right"></i></a><!--<ul id="profile-dropdown" class="dropdown-content">\r\n                        <li ng-show="side.isAdmin()"><a ui-sref="admin"><i class="mdi-action-face-unlock"></i> Profile</a>\r\n                        </li>\r\n                        <li ng-hide="side.isLoggedIn()" ui-sref-active="active"><a ui-sref="login"><i class="mdi-social-person-outline prefix"></i> Login</a></li>\r\n                        <li ng-show="side.isLoggedIn()"><a ui-sref="settings"><i class="mdi-action-settings"></i> Settings</a>\r\n                        </li>\r\n                        <li class="divider"></li>\r\n                        <li ng-show="side.isLoggedIn()"><a ui-sref="logout"><i class="mdi-hardware-keyboard-tab"></i> Logout</a>\r\n                        </li>\r\n                    </ul>\r\n                    <a class="btn-flat dropdown-button waves-effect waves-light white-text profile-btn" href="#" data-activates="profile-dropdown">John Doe<i class="mdi-navigation-arrow-drop-down right"></i></a>--><p ng-show=side.isLoggedIn() class=user-roal>Hello {{ side.getCurrentUser().name }}</p></div></div></li><li class=bold ng-class="{active:$state.current.name === \'main\'}"><a ui-sref=main class="waves-effect waves-cyan"><i class=mdi-editor-insert-invitation></i> Calender</a></li><li class=bold ng-class="{active:$state.current.name === \'events\'}"><a ui-sref=events class="waves-effect waves-cyan"><i class=mdi-action-note-add></i> Events</a></li><li class=bold ng-class="{active:$state.current.name === \'dragdrop\'}"><a ui-sref=dragdrop class="waves-effect waves-cyan"><i class=mdi-action-open-with></i> Drag & Drop</a></li><li class=bold ng-class="{active:$state.current.name === \'doc\'}"><a ui-sref=doc class="waves-effect waves-cyan"><i class=mdi-editor-insert-drive-file></i> Documentation</a></li></ul><a href=# data-activates=slide-out class="sidebar-collapse btn-floating btn-medium waves-effect waves-light hide-on-large-only cyan"><i class=mdi-navigation-menu></i></a></aside><!-- END LEFT SIDEBAR NAV-->')}]);